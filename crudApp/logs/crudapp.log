2026-01-27 14:49:12 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2026-01-27 14:49:12 [main] INFO  c.e.c.controller.AuthControllerTest - Starting AuthControllerTest using Java 17.0.17 with PID 15836 (started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:49:12 [main] INFO  c.e.c.controller.AuthControllerTest - The following 1 profile is active: "test"
2026-01-27 14:49:13 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'passwordEncoder' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:13 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationProvider' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:13 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationManager' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:13 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'securityFilterChain' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:49:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 6 JPA repository interfaces.
2026-01-27 14:49:15 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2026-01-27 14:49:15 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:465df756-d567-4f43-94da-f878bf5fbe70;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2026-01-27 14:49:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:49:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2026-01-27 14:49:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:49:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:49:17 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2026-01-27 14:49:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:49:17 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@7d7760b3']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:49:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:49:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:49:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27 14:49:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:49:21 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:49:21 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:49:22 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2026-01-27 14:49:23 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:49:24 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 14:49:24 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 14:49:24 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-01-27 14:49:24 [main] INFO  c.e.c.controller.AuthControllerTest - Started AuthControllerTest in 12.969 seconds (process running for 20.025)
2026-01-27 14:49:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 14:49:24 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:49:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 14:49:24 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:24 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:24 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:24 [main] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.email=? limit ?
2026-01-27 14:49:24 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:24 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:24 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 14:49:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: nonexistent
2026-01-27 14:49:25 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:49:25 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:25 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "U1_0.ADDRESS" non trouvée
Column "U1_0.ADDRESS" not found; SQL statement:
select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=? [42122-232]
2026-01-27 14:49:25 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:25 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:25 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:49:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:49:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:49:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: newuser - Type: Médecin
2026-01-27 14:49:25 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:49:25 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:25 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "U1_0.ADDRESS" non trouvée
Column "U1_0.ADDRESS" not found; SQL statement:
select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=? [42122-232]
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:49:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:49:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Mise à jour de la disponibilité ID: 1 par: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Récupération des disponibilités pour: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Récupération des exceptions pour: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Création d'une disponibilité par: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Création d'une exception par: doctor@example.com pour la date: 2024-12-25
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Récupération du profil pour: patient@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Récupération du profil pour: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Suppression de la disponibilité ID: 1 par: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Récupération du profil pour: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Suppression de l'exception ID: 1 par: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Mise à jour de l'exception ID: 1 par: doctor@example.com
2026-01-27 14:49:25 [main] INFO  c.e.c.controller.DoctorMeController - Récupération de l'exception ID: 1 par: doctor@example.com
2026-01-27 14:49:25 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.crudApp.controller.PatientControllerTest]: PatientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 14:49:25 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.crudApp.CrudAppApplication for test class com.example.crudApp.controller.PatientControllerTest
2026-01-27 14:49:25 [main] INFO  c.e.c.c.PatientControllerTest - Starting PatientControllerTest using Java 17.0.17 with PID 15836 (started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:49:25 [main] INFO  c.e.c.c.PatientControllerTest - The following 1 profile is active: "test"
2026-01-27 14:49:25 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'passwordEncoder' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:25 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationProvider' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:25 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationManager' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:25 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'securityFilterChain' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:49:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 6 JPA repository interfaces.
2026-01-27 14:49:26 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2026-01-27 14:49:26 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:ef735039-1d51-4661-a4d5-d1c81c5ae39f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2026-01-27 14:49:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:49:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:49:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:49:26 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2026-01-27 14:49:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:49:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@7a124de0']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:49:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:49:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:49:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:49:26 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:49:26 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:49:26 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2026-01-27 14:49:26 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:49:27 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 14:49:27 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 14:49:27 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-01-27 14:49:27 [main] INFO  c.e.c.c.PatientControllerTest - Started PatientControllerTest in 1.684 seconds (process running for 23.129)
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:27 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:27 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:27 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:49:28 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 42122, SQLState: 42S22
2026-01-27 14:49:28 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Colonne "ADDRESS" non trouvée
Column "ADDRESS" not found; SQL statement:
insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?) [42122-232]
2026-01-27 14:49:28 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.crudApp.CrudAppApplicationTests]: CrudAppApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 14:49:28 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.crudApp.CrudAppApplication for test class com.example.crudApp.CrudAppApplicationTests
2026-01-27 14:49:28 [main] INFO  c.e.crudApp.CrudAppApplicationTests - Starting CrudAppApplicationTests using Java 17.0.17 with PID 15836 (started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:49:28 [main] INFO  c.e.crudApp.CrudAppApplicationTests - The following 1 profile is active: "test"
2026-01-27 14:49:28 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'passwordEncoder' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:28 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationProvider' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:28 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationManager' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:28 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'securityFilterChain' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:49:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:49:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
2026-01-27 14:49:29 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2026-01-27 14:49:29 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:885c17fd-59d3-47fd-943f-58816bddb320;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2026-01-27 14:49:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:49:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:49:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:49:29 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2026-01-27 14:49:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:49:29 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@59fbaef2']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:49:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:49:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:49:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:49:29 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:49:29 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:49:29 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2026-01-27 14:49:29 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:49:30 [main] INFO  c.e.crudApp.CrudAppApplicationTests - Started CrudAppApplicationTests in 1.54 seconds (process running for 25.94)
2026-01-27 14:49:31 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.crudApp.security.JwtUtilTest]: JwtUtilTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 14:49:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.crudApp.CrudAppApplication for test class com.example.crudApp.security.JwtUtilTest
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de nettoyage des anciens rendez-vous
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Supprimé 1 rendez-vous annulés de plus de 6 mois
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Envoi d'un rappel immédiat pour le rendez-vous ID: 1
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Rappel immédiat envoyé pour le rendez-vous ID: 1
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Envoi d'un rappel immédiat pour le rendez-vous ID: 999
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de nettoyage des anciens rendez-vous
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Aucun ancien rendez-vous à nettoyer
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de complétion automatique des rendez-vous passés
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Marqué 1 rendez-vous comme terminés automatiquement
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Trouvé 1 rendez-vous nécessitant un rappel
2026-01-27 14:49:31 [main] ERROR c.e.c.s.AppointmentReminderService - Erreur lors de l'envoi du rappel pour le rendez-vous ID: 1 - Email service error
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 1
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de complétion automatique des rendez-vous passés
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Aucun rendez-vous passé à marquer comme terminé
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Trouvé 1 rendez-vous nécessitant un rappel
2026-01-27 14:49:31 [main] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 1, Échecs: 0
2026-01-27 14:49:31 [main] INFO  c.e.c.service.AppointmentService - Création d'un rendez-vous pour le patient: patient1 avec le médecin ID: 2
2026-01-27 14:49:31 [main] INFO  c.e.c.service.AppointmentService - Email d'annulation envoyé pour le rendez-vous ID: 1
2026-01-27 14:49:31 [main] INFO  c.e.c.service.AppointmentService - Création d'un rendez-vous pour le patient: patient1 avec le médecin ID: 999
2026-01-27 14:49:31 [main] INFO  c.e.c.service.AppointmentService - Création d'un rendez-vous pour le patient: patient1 avec le médecin ID: 2
2026-01-27 14:49:31 [main] INFO  c.e.c.service.AppointmentService - Rendez-vous créé avec succès - ID: 1
2026-01-27 14:49:31 [main] INFO  c.e.c.service.AppointmentService - Emails de notification envoyés pour le rendez-vous ID: 1
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Suppression de l'exception ID: 1 par le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception désactivée avec succès
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: nonexistent@example.com à la date: 2024-12-25
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération de l'exception ID: 999 pour le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Mise à jour de l'exception ID: 999 par le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Mise à jour de l'exception ID: 1 par le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception mise à jour avec succès
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Suppression de l'exception ID: 1 par le médecin: otherdoctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération des exceptions pour le médecin: nonexistent@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Suppression de l'exception ID: 999 par le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération de l'exception ID: 1 pour le médecin: otherdoctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: doctor@example.com à la date: 2024-12-25
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception créée avec succès pour la date: 2024-12-25
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: doctor@example.com à la date: 2024-12-25
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Mise à jour de l'exception ID: 1 par le médecin: otherdoctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: doctor@example.com à la date: 2024-12-25
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception créée avec succès pour la date: 2024-12-25
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération de l'exception ID: 1 pour le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération des exceptions pour le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityService - Création d'une disponibilité pour le médecin: doctor@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityService - Création d'une disponibilité pour le médecin: nonexistent@example.com
2026-01-27 14:49:32 [main] INFO  c.e.c.s.DoctorAvailabilityService - Création d'une disponibilité pour le médecin: patient@example.com
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email au médecin 1 : pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de confirmation : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de confirmation : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de confirmation : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de mise à jour : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de mise à jour : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de mise à jour : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:32 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de rappel : le patient 2 n'a pas d'adresse email
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Patient créé avec succès: ID 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients - Page: 0, Size: 10
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients nécessitant un suivi (pas de visite depuis 90 jours)
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Mise à jour du patient avec ID: 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Patient mis à jour avec succès: ID 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Archivage du patient avec ID: 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Patient archivé avec succès: ID 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Récupération du patient avec ID: 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients du médecin: doctor1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Réactivation du patient avec ID: 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Patient réactivé avec succès: ID 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Recherche de patients avec critères: PatientSearchCriteria(name=John, email=null, minAge=null, maxAge=null, address=null, bloodType=null, allergy=null, lastVisitAfter=null, lastVisitBefore=null, isActive=null, insuranceNumber=null, phoneNumber=null, emergencyContact=null, doctorSpecialty=null)
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Suppression du patient avec ID: 999
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Mise à jour du patient avec ID: 999
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Récupération du patient avec ID: 999
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Suppression du patient avec ID: 1
2026-01-27 14:49:35 [main] INFO  c.e.crudApp.service.PatientService - Patient supprimé avec succès: ID 1
2026-01-27 14:49:36 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:49:36 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:49:36 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:50:55 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2026-01-27 14:50:55 [main] INFO  c.e.c.controller.AuthControllerTest - Starting AuthControllerTest using Java 17.0.17 with PID 27480 (started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:50:55 [main] INFO  c.e.c.controller.AuthControllerTest - The following 1 profile is active: "test"
2026-01-27 14:50:57 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'passwordEncoder' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:50:57 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationProvider' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:50:57 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationManager' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:50:57 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'securityFilterChain' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:50:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:50:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 6 JPA repository interfaces.
2026-01-27 14:50:58 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2026-01-27 14:50:59 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:48c77125-a775-41f3-9f70-4cb0012905da;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2026-01-27 14:51:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:51:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2026-01-27 14:51:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:51:01 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:51:01 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2026-01-27 14:51:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:51:01 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@5418a0f6']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:51:02 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:51:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:51:03 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27 14:51:05 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:51:05 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:51:05 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:51:06 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2026-01-27 14:51:06 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:51:07 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 14:51:07 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 14:51:07 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2026-01-27 14:51:08 [main] INFO  c.e.c.controller.AuthControllerTest - Started AuthControllerTest in 13.837 seconds (process running for 19.98)
2026-01-27 14:51:08 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 14:51:08 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:08 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 14:51:08 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:08 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 14:51:08 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:08 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 14:51:08 [main] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: testuser
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.user_id=?
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - insert into refresh_tokens (expiry_date,token,user_id) values (?,?,?)
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: testuser
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.email=? limit ?
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:51:09 [main] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: existinguser - Type: Médecin
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] WARN  c.e.c.controller.AuthController - Tentative d'inscription avec un nom d'utilisateur existant: existinguser
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 14:51:09 [main] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: nonexistent
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'nonexistent'
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 14:51:09 [main] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: testuser
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:51:09 [main] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: newuser - Type: Médecin
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select u1_0.id from users u1_0 where u1_0.email=? limit ?
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.expiry_date,rt1_0.token,rt1_0.user_id from refresh_tokens rt1_0 where rt1_0.user_id=?
2026-01-27 14:51:09 [main] DEBUG org.hibernate.SQL - insert into refresh_tokens (expiry_date,token,user_id) values (?,?,?)
2026-01-27 14:51:09 [main] INFO  c.e.c.controller.AuthController - Inscription réussie pour l'utilisateur: newuser - Type: Médecin
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 14:51:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 14:51:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Mise à jour de la disponibilité ID: 1 par: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Récupération des disponibilités pour: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Récupération des exceptions pour: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Création d'une disponibilité par: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Création d'une exception par: doctor@example.com pour la date: 2024-12-25
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Récupération du profil pour: patient@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Récupération du profil pour: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Suppression de la disponibilité ID: 1 par: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Récupération du profil pour: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Suppression de l'exception ID: 1 par: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Mise à jour de l'exception ID: 1 par: doctor@example.com
2026-01-27 14:51:10 [main] INFO  c.e.c.controller.DoctorMeController - Récupération de l'exception ID: 1 par: doctor@example.com
2026-01-27 14:51:10 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.crudApp.controller.PatientControllerTest]: PatientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 14:51:10 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.crudApp.CrudAppApplication for test class com.example.crudApp.controller.PatientControllerTest
2026-01-27 14:51:10 [main] INFO  c.e.c.c.PatientControllerTest - Starting PatientControllerTest using Java 17.0.17 with PID 27480 (started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:51:10 [main] INFO  c.e.c.c.PatientControllerTest - The following 1 profile is active: "test"
2026-01-27 14:51:10 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'passwordEncoder' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:10 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationProvider' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:10 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationManager' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:10 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'securityFilterChain' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:51:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 6 JPA repository interfaces.
2026-01-27 14:51:10 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2026-01-27 14:51:10 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:6e76ea50-f3f6-4d1f-a609-f9c076e9501e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2026-01-27 14:51:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:51:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:51:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:51:10 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2026-01-27 14:51:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:51:10 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@2c5a3326']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:51:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:51:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:51:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:51:11 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:51:11 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:51:11 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2026-01-27 14:51:11 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:51:12 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 14:51:12 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 14:51:12 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-01-27 14:51:12 [main] INFO  c.e.c.c.PatientControllerTest - Started PatientControllerTest in 1.929 seconds (process running for 23.908)
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/patients/1/reactivate
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/patients/1/reactivate
2026-01-27 14:51:12 [main] INFO  c.e.c.controller.PatientController - Réactivation du patient avec ID: 1
2026-01-27 14:51:12 [main] INFO  c.e.crudApp.service.PatientService - Réactivation du patient avec ID: 1
2026-01-27 14:51:12 [main] INFO  c.e.crudApp.service.PatientService - Patient réactivé avec succès: ID 1
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/export/excel
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/export/excel
2026-01-27 14:51:12 [main] INFO  c.e.c.controller.PatientController - Export des patients en Excel
2026-01-27 14:51:12 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0
2026-01-27 14:51:13 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:13 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/export/pdf
2026-01-27 14:51:13 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/export/pdf
2026-01-27 14:51:13 [main] INFO  c.e.c.controller.PatientController - Export des patients en PDF
2026-01-27 14:51:13 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/999
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/999
2026-01-27 14:51:14 [main] INFO  c.e.c.controller.PatientController - Récupération du patient avec ID: 999
2026-01-27 14:51:14 [main] INFO  c.e.crudApp.service.PatientService - Récupération du patient avec ID: 999
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 where p1_0.id=?
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/search
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/search
2026-01-27 14:51:14 [main] INFO  c.e.c.controller.PatientController - Recherche de patients avec critères
2026-01-27 14:51:14 [main] INFO  c.e.crudApp.service.PatientService - Recherche de patients avec critères: PatientSearchCriteria(name=null, email=null, minAge=null, maxAge=null, address=null, bloodType=O+, allergy=null, lastVisitAfter=null, lastVisitBefore=null, isActive=null, insuranceNumber=null, phoneNumber=null, emergencyContact=null, doctorSpecialty=null)
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 where p1_0.blood_type=? order by p1_0.name limit ?,?
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/patients/6
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/patients/6
2026-01-27 14:51:14 [main] INFO  c.e.c.controller.PatientController - Requête de suppression du patient avec ID: 6
2026-01-27 14:51:14 [main] INFO  c.e.crudApp.service.PatientService - Suppression du patient avec ID: 6
2026-01-27 14:51:14 [main] DEBUG org.hibernate.SQL - select count(*) from patients p1_0 where p1_0.id=?
2026-01-27 14:51:14 [main] INFO  c.e.crudApp.service.PatientService - Patient supprimé avec succès: ID 6
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/export/csv
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/export/csv
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Export des patients en CSV
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/patients/8/archive
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/patients/8/archive
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Archivage du patient avec ID: 8
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Archivage du patient avec ID: 8
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Patient archivé avec succès: ID 8
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/9
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/9
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Récupération du patient avec ID: 9
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Récupération du patient avec ID: 9
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/patients/10
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/patients/10
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Requête de mise à jour du patient avec ID: 10
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Mise à jour du patient avec ID: 10
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 where p1_0.email=?
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Patient mis à jour avec succès: ID 10
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Récupération de tous les patients - Page: 0, Size: 10
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients - Page: 0, Size: 10
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 order by p1_0.name limit ?,?
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/patients/search
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/patients/search
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Recherche de patients avec critères
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Recherche de patients avec critères: PatientSearchCriteria(name=null, email=null, minAge=null, maxAge=null, address=null, bloodType=null, allergy=Pénicilline, lastVisitAfter=null, lastVisitBefore=null, isActive=null, insuranceNumber=null, phoneNumber=null, emergencyContact=null, doctorSpecialty=null)
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 where lower(p1_0.allergies) like replace(?,'\\','\\\\') order by p1_0.name limit ?,?
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into users (address,date_of_birth,email,email_verified,full_name,password,phone_number,profile_photo,provider,provider_id,roles,medical_specialty,user_type,username) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/patients
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/patients
2026-01-27 14:51:15 [main] INFO  c.e.c.controller.PatientController - Requête de création de patient reçue: jean.dupont@example.com
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jean.dupont@example.com
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 where p1_0.email=?
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id from patients p1_0 where p1_0.phone_number=? limit ?
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.address,p1_0.age,p1_0.allergies,p1_0.blood_type,p1_0.email,p1_0.emergency_contact,p1_0.emergency_phone,p1_0.insurance_number,p1_0.is_active,p1_0.last_visit,p1_0.medical_history,p1_0.name,p1_0.phone_number,p1_0.user_id from patients p1_0 where p1_0.insurance_number=?
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.date_of_birth,u1_0.email,u1_0.email_verified,u1_0.full_name,u1_0.password,u1_0.phone_number,u1_0.profile_photo,u1_0.provider,u1_0.provider_id,u1_0.roles,u1_0.medical_specialty,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-01-27 14:51:15 [main] DEBUG org.hibernate.SQL - insert into patients (address,age,allergies,blood_type,email,emergency_contact,emergency_phone,insurance_number,is_active,last_visit,medical_history,name,phone_number,user_id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.service.PatientService - Patient créé avec succès: ID 15
2026-01-27 14:51:15 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.crudApp.CrudAppApplicationTests]: CrudAppApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 14:51:15 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.crudApp.CrudAppApplication for test class com.example.crudApp.CrudAppApplicationTests
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.CrudAppApplicationTests - Starting CrudAppApplicationTests using Java 17.0.17 with PID 27480 (started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:51:15 [main] INFO  c.e.crudApp.CrudAppApplicationTests - The following 1 profile is active: "test"
2026-01-27 14:51:16 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'passwordEncoder' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=passwordEncoder; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:16 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationProvider' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationProvider; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:16 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'authenticationManager' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=authenticationManager; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:16 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'securityFilterChain' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=com.example.crudApp.config.TestSecurityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/TestSecurityConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=securityConfig; factoryMethodName=securityFilterChain; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/example/crudApp/config/SecurityConfig.class]]
2026-01-27 14:51:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:51:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2026-01-27 14:51:16 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2026-01-27 14:51:16 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:cbeee434-6924-484d-99bd-3c5a7642d8ee;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2026-01-27 14:51:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:51:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:51:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:51:16 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.3.232 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2026-01-27 14:51:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:51:16 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@6a115b4']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:51:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:51:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:51:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:51:16 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:51:16 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:51:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2026-01-27 14:51:16 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:51:17 [main] INFO  c.e.crudApp.CrudAppApplicationTests - Started CrudAppApplicationTests in 1.502 seconds (process running for 29.072)
2026-01-27 14:51:18 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.crudApp.security.JwtUtilTest]: JwtUtilTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 14:51:18 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.crudApp.CrudAppApplication for test class com.example.crudApp.security.JwtUtilTest
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de nettoyage des anciens rendez-vous
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Supprimé 1 rendez-vous annulés de plus de 6 mois
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Envoi d'un rappel immédiat pour le rendez-vous ID: 1
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Rappel immédiat envoyé pour le rendez-vous ID: 1
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Envoi d'un rappel immédiat pour le rendez-vous ID: 999
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de nettoyage des anciens rendez-vous
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Aucun ancien rendez-vous à nettoyer
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de complétion automatique des rendez-vous passés
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Marqué 1 rendez-vous comme terminés automatiquement
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Trouvé 1 rendez-vous nécessitant un rappel
2026-01-27 14:51:18 [main] ERROR c.e.c.s.AppointmentReminderService - Erreur lors de l'envoi du rappel pour le rendez-vous ID: 1 - Email service error
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 1
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de complétion automatique des rendez-vous passés
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Aucun rendez-vous passé à marquer comme terminé
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Trouvé 1 rendez-vous nécessitant un rappel
2026-01-27 14:51:18 [main] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 1, Échecs: 0
2026-01-27 14:51:18 [main] INFO  c.e.c.service.AppointmentService - Création d'un rendez-vous pour le patient: patient1 avec le médecin ID: 2
2026-01-27 14:51:18 [main] INFO  c.e.c.service.AppointmentService - Email d'annulation envoyé pour le rendez-vous ID: 1
2026-01-27 14:51:18 [main] INFO  c.e.c.service.AppointmentService - Création d'un rendez-vous pour le patient: patient1 avec le médecin ID: 999
2026-01-27 14:51:18 [main] INFO  c.e.c.service.AppointmentService - Création d'un rendez-vous pour le patient: patient1 avec le médecin ID: 2
2026-01-27 14:51:18 [main] INFO  c.e.c.service.AppointmentService - Rendez-vous créé avec succès - ID: 1
2026-01-27 14:51:18 [main] INFO  c.e.c.service.AppointmentService - Emails de notification envoyés pour le rendez-vous ID: 1
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Suppression de l'exception ID: 1 par le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception désactivée avec succès
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: nonexistent@example.com à la date: 2024-12-25
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération de l'exception ID: 999 pour le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Mise à jour de l'exception ID: 999 par le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Mise à jour de l'exception ID: 1 par le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception mise à jour avec succès
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Suppression de l'exception ID: 1 par le médecin: otherdoctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération des exceptions pour le médecin: nonexistent@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Suppression de l'exception ID: 999 par le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération de l'exception ID: 1 pour le médecin: otherdoctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: doctor@example.com à la date: 2024-12-25
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception créée avec succès pour la date: 2024-12-25
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: doctor@example.com à la date: 2024-12-25
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Mise à jour de l'exception ID: 1 par le médecin: otherdoctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Création d'une exception pour le médecin: doctor@example.com à la date: 2024-12-25
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Exception créée avec succès pour la date: 2024-12-25
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération de l'exception ID: 1 pour le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityExceptionService - Récupération des exceptions pour le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityService - Création d'une disponibilité pour le médecin: doctor@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityService - Création d'une disponibilité pour le médecin: nonexistent@example.com
2026-01-27 14:51:18 [main] INFO  c.e.c.s.DoctorAvailabilityService - Création d'une disponibilité pour le médecin: patient@example.com
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email au médecin 1 : pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de confirmation : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de confirmation : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de confirmation : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de mise à jour : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de mise à jour : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de mise à jour : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] WARN  c.e.crudApp.service.EmailService - Impossible d'envoyer l'email de rappel : le patient 2 n'a pas d'adresse email
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Patient créé avec succès: ID 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients - Page: 0, Size: 10
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients nécessitant un suivi (pas de visite depuis 90 jours)
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Mise à jour du patient avec ID: 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Patient mis à jour avec succès: ID 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Archivage du patient avec ID: 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Patient archivé avec succès: ID 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Récupération du patient avec ID: 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Récupération des patients du médecin: doctor1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Réactivation du patient avec ID: 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Patient réactivé avec succès: ID 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Recherche de patients avec critères: PatientSearchCriteria(name=John, email=null, minAge=null, maxAge=null, address=null, bloodType=null, allergy=null, lastVisitAfter=null, lastVisitBefore=null, isActive=null, insuranceNumber=null, phoneNumber=null, emergencyContact=null, doctorSpecialty=null)
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Suppression du patient avec ID: 999
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Mise à jour du patient avec ID: 999
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Création d'un nouveau patient: jane.smith@test.com
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Récupération du patient avec ID: 999
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Suppression du patient avec ID: 1
2026-01-27 14:51:19 [main] INFO  c.e.crudApp.service.PatientService - Patient supprimé avec succès: ID 1
2026-01-27 14:51:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:51:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:51:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:53:28 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2026-01-27 14:53:28 [main] INFO  c.example.crudApp.CrudAppApplication - Starting CrudAppApplication using Java 17.0.17 with PID 18520 (C:\DATA\Documents\crudApp\crudApp\target\classes started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:53:28 [main] DEBUG c.example.crudApp.CrudAppApplication - Running with Spring Boot v3.4.12, Spring v6.2.14
2026-01-27 14:53:28 [main] INFO  c.example.crudApp.CrudAppApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-27 14:53:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:53:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 6 JPA repository interfaces.
2026-01-27 14:53:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-27 14:53:30 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-27 14:53:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-27 14:53:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-27 14:53:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-27 14:53:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1990 ms
2026-01-27 14:53:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:53:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2026-01-27 14:53:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:53:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:53:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 14:53:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3ea6faf0
2026-01-27 14:53:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-27 14:53:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:53:31 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:53:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:53:32 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add column email_verified bit
2026-01-27 14:53:32 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add column provider varchar(255)
2026-01-27 14:53:32 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add column provider_id varchar(255)
2026-01-27 14:53:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:53:33 [main] DEBUG c.e.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-27 14:53:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27 14:53:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:53:34 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:53:34 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:53:34 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-27 14:53:35 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:53:35 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-27 14:53:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-27 14:53:35 [main] INFO  c.example.crudApp.CrudAppApplication - Started CrudAppApplication in 7.978 seconds (process running for 8.315)
2026-01-27 14:54:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27 14:54:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-27 14:54:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:54:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-27 14:54:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-27 14:59:10 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2026-01-27 14:59:11 [main] INFO  c.example.crudApp.CrudAppApplication - Starting CrudAppApplication using Java 17.0.17 with PID 23116 (C:\DATA\Documents\crudApp\crudApp\target\classes started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 14:59:11 [main] DEBUG c.example.crudApp.CrudAppApplication - Running with Spring Boot v3.4.12, Spring v6.2.14
2026-01-27 14:59:11 [main] INFO  c.example.crudApp.CrudAppApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-27 14:59:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 14:59:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 6 JPA repository interfaces.
2026-01-27 14:59:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-27 14:59:13 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-27 14:59:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-27 14:59:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-27 14:59:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-27 14:59:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2394 ms
2026-01-27 14:59:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 14:59:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2026-01-27 14:59:13 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 14:59:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 14:59:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 14:59:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51aa2a58
2026-01-27 14:59:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-27 14:59:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 14:59:14 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 14:59:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    create table appointments (
        id bigint not null auto_increment,
        appointment_date_time datetime(6) not null,
        created_at datetime(6) not null,
        doctor_notes varchar(2000),
        reason varchar(500),
        status enum ('CANCELLED','COMPLETED','CONFIRMED','PENDING') not null,
        updated_at datetime(6),
        doctor_id bigint not null,
        patient_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    create table doctor_availability (
        id bigint not null auto_increment,
        day_of_week enum ('FRIDAY','MONDAY','SATURDAY','SUNDAY','THURSDAY','TUESDAY','WEDNESDAY') not null,
        end_time time(6) not null,
        is_active bit not null,
        slot_duration_minutes integer not null,
        start_time time(6) not null,
        doctor_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    create table doctor_availability_exceptions (
        id bigint not null auto_increment,
        created_at date not null,
        end_time varchar(255),
        exception_date date not null,
        is_active bit not null,
        is_available bit not null,
        reason varchar(255),
        start_time varchar(255),
        doctor_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    create table patients (
        id bigint not null auto_increment,
        address varchar(255) not null,
        age integer not null,
        allergies varchar(1000),
        blood_type varchar(3),
        email varchar(255) not null,
        emergency_contact varchar(100),
        emergency_phone varchar(20),
        insurance_number varchar(50),
        is_active bit,
        last_visit date,
        medical_history varchar(5000),
        name varchar(100) not null,
        phone_number varchar(20),
        user_id bigint,
        primary key (id)
    ) engine=InnoDB
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        id bigint not null auto_increment,
        expiry_date datetime(6) not null,
        token varchar(255) not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint not null auto_increment,
        address varchar(255),
        date_of_birth date,
        email varchar(255),
        email_verified bit,
        full_name varchar(255),
        password varchar(255) not null,
        phone_number varchar(20),
        profile_photo varchar(500),
        provider varchar(255),
        provider_id varchar(255),
        roles varchar(255),
        medical_specialty enum ('ALLERGOLOGIE','ANATOMOPATHOLOGIE','ANESTHESIE_REANIMATION','AUDIOLOGIE','BIOLOGIE_MEDICALE','CARDIOLOGIE','CHIRURGIE_CARDIAQUE','CHIRURGIE_GENERALE','CHIRURGIE_ORTHOPEDIQUE','CHIRURGIE_PEDIATRIQUE','CHIRURGIE_PLASTIQUE','CHIRURGIE_VISCERALE','DERMATOLOGIE','ENDOCRINOLOGIE','GASTRO_ENTEROLOGIE','GERIATRIE','HEMATOLOGIE','INFECTIOLOGIE','MEDECINE_GENERALE','MEDECINE_LEGALE','MEDECINE_NUCLEAIRE','MEDECINE_PHYSIQUE_READAPTATION','MEDECINE_SPORT','MEDECINE_TRAVAIL','MEDECINE_URGENCE','NEPHROLOGIE','NEUROCHIRURGIE','NEUROLOGIE','ONCOLOGIE','OPHTALMOLOGIE','ORL','PEDIATRIE','PNEUMOLOGIE','PSYCHIATRIE','RADIOLOGIE','RHUMATOLOGIE','SANTE_PUBLIQUE'),
        user_type enum ('DOCTOR','PATIENT') not null,
        username varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       drop index UKa370hmxgv0l5c9panryr1ji7d
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint UKa370hmxgv0l5c9panryr1ji7d unique (email)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       drop index UK898ikjlngeolpml0vt2hrer1r
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint UK898ikjlngeolpml0vt2hrer1r unique (insurance_number)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       drop index UKjmj4vn423f1ecw04a2mcv470e
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint UKjmj4vn423f1ecw04a2mcv470e unique (phone_number)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       drop index UKghpmfn23vmxfu3spu3lfg4r2d
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UKghpmfn23vmxfu3spu3lfg4r2d unique (token)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       drop index UK6dotkott2kjsp8vw4d0m25fb7
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       drop index UK9q63snka3mdh91as4io72espi
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add constraint UK9q63snka3mdh91as4io72espi unique (phone_number)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       drop index UKr43af9ap4edm43mmtq01oddj6
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table appointments 
       add constraint FK6u6s6egu60m2cbdjno44jbipa 
       foreign key (doctor_id) 
       references users (id)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table appointments 
       add constraint FKopb2h9yhin1rb4dqote8bws6w 
       foreign key (patient_id) 
       references users (id)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table doctor_availability 
       add constraint FK1mfkjo7s5ct426dm5a2hyiur0 
       foreign key (doctor_id) 
       references users (id)
2026-01-27 14:59:16 [main] DEBUG org.hibernate.SQL - 
    alter table doctor_availability_exceptions 
       add constraint FKek67xqf1je6otukxhy66vjcy2 
       foreign key (doctor_id) 
       references users (id)
2026-01-27 14:59:17 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint FKuwca24wcd1tg6pjex8lmc0y7 
       foreign key (user_id) 
       references users (id)
2026-01-27 14:59:17 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint FK1lih5y2npsf8u5o3vhdb9y0os 
       foreign key (user_id) 
       references users (id)
2026-01-27 14:59:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 14:59:17 [main] DEBUG c.e.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-27 14:59:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27 14:59:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 14:59:18 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 14:59:18 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 14:59:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-27 14:59:19 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 14:59:19 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-27 14:59:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-27 14:59:19 [main] INFO  c.example.crudApp.CrudAppApplication - Started CrudAppApplication in 9.647 seconds (process running for 10.364)
2026-01-27 15:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 15:00:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date_time,
        a1_0.created_at,
        a1_0.doctor_id,
        a1_0.doctor_notes,
        a1_0.patient_id,
        a1_0.reason,
        a1_0.status,
        a1_0.updated_at 
    from
        appointments a1_0 
    where
        a1_0.status=? 
        and a1_0.appointment_date_time between ? and ?
2026-01-27 15:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 15:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 15:06:21 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-27 15:06:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-27 15:06:21 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 53 ms
2026-01-27 15:06:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /oauth2/authorization/google
2026-01-27 15:06:22 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [191] milliseconds.
2026-01-27 15:06:22 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=19597353821-bgc0u5g424bb8p7dlgen1gmimv4dt5vu.apps.googleusercontent.com&scope=profile%20email&state=f32uIlAjqmcY_5XGV2ztJr-qKwOl-9my2b_5NLbydTk%3D&redirect_uri=http://localhost:8080/login/oauth2/code/google
2026-01-27 15:06:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login/oauth2/code/google?state=f32uIlAjqmcY_5XGV2ztJr-qKwOl-9my2b_5NLbydTk%3D&code=4%2F0ASc3gC1VVeSAykYArQo7MbQ_2yLWy3dCCIP4WFFHNdS8DENfKRHIjFv9-gcf3GvhjKmNDA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+openid&authuser=0&prompt=consent
2026-01-27 15:06:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 15:06:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address, date_of_birth, email, email_verified, full_name, password, phone_number, profile_photo, provider, provider_id, roles, medical_specialty, user_type, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-27 15:06:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from E8A2D8F73E312A2099F90B716E117A77
2026-01-27 15:06:31 [http-nio-8080-exec-2] DEBUG o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=com.example.crudApp.security.oauth2.CustomOAuth2User@250d5783, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E8A2D8F73E312A2099F90B716E117A77], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2026-01-27 15:06:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 15:06:31 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:3000/oauth2/redirect?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtdm9tbGVwaXlvdUBnbWFpbC5jb20iLCJpYXQiOjE3Njk1MjI3OTEsImV4cCI6MTc2OTU0MDc5MX0.9sbXR0QuKUpg4rudqsP_206qRTjcCnap0p0pdp_d33s&email=mvomlepiyou@gmail.com&name=wilfried etoo&role=Patient
2026-01-27 15:08:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2026-01-27 15:08:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 15:08:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:08:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 15:08:23 [http-nio-8080-exec-5] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 15:08:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:08:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'eto'
2026-01-27 15:36:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/register
2026-01-27 15:36:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 15:36:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:36:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 15:36:29 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: eto - Type: Patient
2026-01-27 15:36:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:36:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2026-01-27 15:36:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.phone_number=? 
    limit
        ?
2026-01-27 15:36:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address, date_of_birth, email, email_verified, full_name, password, phone_number, profile_photo, provider, provider_id, roles, medical_specialty, user_type, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-27 15:36:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:36:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:36:31 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Inscription réussie pour l'utilisateur: eto - Type: Patient
2026-01-27 15:36:31 [task-1] INFO  c.e.crudApp.service.EmailService - Email de bienvenue envoyé à l'utilisateur 2 (eto@gmail.com)
2026-01-27 15:36:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 15:36:38 [http-nio-8080-exec-10] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 15:36:38 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:36:38 [http-nio-8080-exec-10] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 15:36:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me
2026-01-27 15:36:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 15:36:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:36:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 15:36:38 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 15:36:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:37:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/profile
2026-01-27 15:37:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/auth/profile
2026-01-27 15:37:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:37:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/auth/profile
2026-01-27 15:37:10 [http-nio-8080-exec-4] INFO  c.e.c.controller.AuthController - Mise à jour du profil pour l'utilisateur: eto
2026-01-27 15:37:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:37:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        date_of_birth=?,
        email=?,
        email_verified=?,
        full_name=?,
        password=?,
        phone_number=?,
        profile_photo=?,
        provider=?,
        provider_id=?,
        roles=?,
        medical_specialty=?,
        user_type=?,
        username=? 
    where
        id=?
2026-01-27 15:37:10 [http-nio-8080-exec-4] INFO  c.e.c.controller.AuthController - Profil mis à jour avec succès pour l'utilisateur: eto
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 15:38:03 [http-nio-8080-exec-7] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: mvom - Type: Médecin
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.phone_number=? 
    limit
        ?
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address, date_of_birth, email, email_verified, full_name, password, phone_number, profile_photo, provider, provider_id, roles, medical_specialty, user_type, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:38:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:38:03 [http-nio-8080-exec-7] INFO  c.e.c.controller.AuthController - Inscription réussie pour l'utilisateur: mvom - Type: Médecin
2026-01-27 15:38:03 [task-2] INFO  c.e.crudApp.service.EmailService - Email de bienvenue envoyé à l'utilisateur 3 (mvom@gmail.com)
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 15:38:14 [http-nio-8080-exec-9] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: mvom
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 15:38:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:14 [http-nio-8080-exec-9] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: mvom
2026-01-27 15:38:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 15:38:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 15:38:14 [http-nio-8080-exec-10] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: mvom
2026-01-27 15:38:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/files/upload-profile-photo
2026-01-27 15:38:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/files/upload-profile-photo
2026-01-27 15:38:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/files/upload-profile-photo
2026-01-27 15:38:57 [http-nio-8080-exec-2] INFO  c.e.c.c.FileUploadController - Photo de profil uploadée avec succès: 04d5d559-01d6-4485-9231-b1e752c869c8.jpg - URL: http://localhost:8080/uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:38:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/auth/profile
2026-01-27 15:38:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/auth/profile
2026-01-27 15:38:57 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Mise à jour du profil pour l'utilisateur: mvom
2026-01-27 15:38:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:38:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        date_of_birth=?,
        email=?,
        email_verified=?,
        full_name=?,
        password=?,
        phone_number=?,
        profile_photo=?,
        provider=?,
        provider_id=?,
        roles=?,
        medical_specialty=?,
        user_type=?,
        username=? 
    where
        id=?
2026-01-27 15:38:58 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Profil mis à jour avec succès pour l'utilisateur: mvom
2026-01-27 15:38:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:38:58 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:38:58 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:38:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:38:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:38:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:38:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:38:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:39:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:39:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/auth/profile
2026-01-27 15:39:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:39:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/auth/profile
2026-01-27 15:39:39 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Mise à jour du profil pour l'utilisateur: mvom
2026-01-27 15:39:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:39:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        date_of_birth=?,
        email=?,
        email_verified=?,
        full_name=?,
        password=?,
        phone_number=?,
        profile_photo=?,
        provider=?,
        provider_id=?,
        roles=?,
        medical_specialty=?,
        user_type=?,
        username=? 
    where
        id=?
2026-01-27 15:39:39 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Profil mis à jour avec succès pour l'utilisateur: mvom
2026-01-27 15:39:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:39:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:39:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:43 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:39:43 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:39:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:39:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:39:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:39:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:40:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:40:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:40:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:40:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:40:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:40:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:40:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:40:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/04d5d559-01d6-4485-9231-b1e752c869c8.jpg
2026-01-27 15:46:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27 15:46:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-27 15:46:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 15:46:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-27 15:46:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-27 15:50:06 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2026-01-27 15:50:06 [main] INFO  c.example.crudApp.CrudAppApplication - Starting CrudAppApplication using Java 17.0.17 with PID 19468 (C:\DATA\Documents\crudApp\crudApp\target\classes started by Eto in C:\DATA\Documents\crudApp\crudApp)
2026-01-27 15:50:06 [main] DEBUG c.example.crudApp.CrudAppApplication - Running with Spring Boot v3.4.12, Spring v6.2.14
2026-01-27 15:50:06 [main] INFO  c.example.crudApp.CrudAppApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-27 15:50:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 15:50:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 6 JPA repository interfaces.
2026-01-27 15:50:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-27 15:50:09 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-27 15:50:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-27 15:50:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-27 15:50:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-27 15:50:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4810 ms
2026-01-27 15:50:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 15:50:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.36.Final
2026-01-27 15:50:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 15:50:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 15:50:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 15:50:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6fdb1a59
2026-01-27 15:50:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-27 15:50:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 15:50:12 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27 15:50:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    create table appointments (
        id bigint not null auto_increment,
        appointment_date_time datetime(6) not null,
        created_at datetime(6) not null,
        doctor_notes varchar(2000),
        reason varchar(500),
        status enum ('CANCELLED','COMPLETED','CONFIRMED','PENDING') not null,
        updated_at datetime(6),
        doctor_id bigint not null,
        patient_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    create table doctor_availability (
        id bigint not null auto_increment,
        day_of_week enum ('FRIDAY','MONDAY','SATURDAY','SUNDAY','THURSDAY','TUESDAY','WEDNESDAY') not null,
        end_time time(6) not null,
        is_active bit not null,
        slot_duration_minutes integer not null,
        start_time time(6) not null,
        doctor_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    create table doctor_availability_exceptions (
        id bigint not null auto_increment,
        created_at date not null,
        end_time varchar(255),
        exception_date date not null,
        is_active bit not null,
        is_available bit not null,
        reason varchar(255),
        start_time varchar(255),
        doctor_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    create table patients (
        id bigint not null auto_increment,
        address varchar(255) not null,
        age integer not null,
        allergies varchar(1000),
        blood_type varchar(3),
        email varchar(255) not null,
        emergency_contact varchar(100),
        emergency_phone varchar(20),
        insurance_number varchar(50),
        is_active bit,
        last_visit date,
        medical_history varchar(5000),
        name varchar(100) not null,
        phone_number varchar(20),
        user_id bigint,
        primary key (id)
    ) engine=InnoDB
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    create table refresh_tokens (
        id bigint not null auto_increment,
        expiry_date datetime(6) not null,
        token varchar(255) not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint not null auto_increment,
        address varchar(255),
        date_of_birth date,
        email varchar(255),
        email_verified bit,
        full_name varchar(255),
        password varchar(255) not null,
        phone_number varchar(20),
        profile_photo varchar(500),
        provider varchar(255),
        provider_id varchar(255),
        roles varchar(255),
        medical_specialty enum ('ALLERGOLOGIE','ANATOMOPATHOLOGIE','ANESTHESIE_REANIMATION','AUDIOLOGIE','BIOLOGIE_MEDICALE','CARDIOLOGIE','CHIRURGIE_CARDIAQUE','CHIRURGIE_GENERALE','CHIRURGIE_ORTHOPEDIQUE','CHIRURGIE_PEDIATRIQUE','CHIRURGIE_PLASTIQUE','CHIRURGIE_VISCERALE','DERMATOLOGIE','ENDOCRINOLOGIE','GASTRO_ENTEROLOGIE','GERIATRIE','HEMATOLOGIE','INFECTIOLOGIE','MEDECINE_GENERALE','MEDECINE_LEGALE','MEDECINE_NUCLEAIRE','MEDECINE_PHYSIQUE_READAPTATION','MEDECINE_SPORT','MEDECINE_TRAVAIL','MEDECINE_URGENCE','NEPHROLOGIE','NEUROCHIRURGIE','NEUROLOGIE','ONCOLOGIE','OPHTALMOLOGIE','ORL','PEDIATRIE','PNEUMOLOGIE','PSYCHIATRIE','RADIOLOGIE','RHUMATOLOGIE','SANTE_PUBLIQUE'),
        user_type enum ('DOCTOR','PATIENT') not null,
        username varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       drop index UKa370hmxgv0l5c9panryr1ji7d
2026-01-27 15:50:13 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint UKa370hmxgv0l5c9panryr1ji7d unique (email)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       drop index UK898ikjlngeolpml0vt2hrer1r
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint UK898ikjlngeolpml0vt2hrer1r unique (insurance_number)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       drop index UKjmj4vn423f1ecw04a2mcv470e
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint UKjmj4vn423f1ecw04a2mcv470e unique (phone_number)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       drop index UKghpmfn23vmxfu3spu3lfg4r2d
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint UKghpmfn23vmxfu3spu3lfg4r2d unique (token)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       drop index UK6dotkott2kjsp8vw4d0m25fb7
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       drop index UK9q63snka3mdh91as4io72espi
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add constraint UK9q63snka3mdh91as4io72espi unique (phone_number)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       drop index UKr43af9ap4edm43mmtq01oddj6
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table appointments 
       add constraint FK6u6s6egu60m2cbdjno44jbipa 
       foreign key (doctor_id) 
       references users (id)
2026-01-27 15:50:14 [main] DEBUG org.hibernate.SQL - 
    alter table appointments 
       add constraint FKopb2h9yhin1rb4dqote8bws6w 
       foreign key (patient_id) 
       references users (id)
2026-01-27 15:50:17 [main] DEBUG org.hibernate.SQL - 
    alter table doctor_availability 
       add constraint FK1mfkjo7s5ct426dm5a2hyiur0 
       foreign key (doctor_id) 
       references users (id)
2026-01-27 15:50:17 [main] DEBUG org.hibernate.SQL - 
    alter table doctor_availability_exceptions 
       add constraint FKek67xqf1je6otukxhy66vjcy2 
       foreign key (doctor_id) 
       references users (id)
2026-01-27 15:50:18 [main] DEBUG org.hibernate.SQL - 
    alter table patients 
       add constraint FKuwca24wcd1tg6pjex8lmc0y7 
       foreign key (user_id) 
       references users (id)
2026-01-27 15:50:18 [main] DEBUG org.hibernate.SQL - 
    alter table refresh_tokens 
       add constraint FK1lih5y2npsf8u5o3vhdb9y0os 
       foreign key (user_id) 
       references users (id)
2026-01-27 15:50:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 15:50:18 [main] DEBUG c.e.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-27 15:50:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27 15:50:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 15:50:19 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-27 15:50:19 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-27 15:50:20 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-27 15:50:20 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27 15:50:20 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-27 15:50:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-27 15:50:20 [main] INFO  c.example.crudApp.CrudAppApplication - Started CrudAppApplication in 15.074 seconds (process running for 15.458)
2026-01-27 15:52:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-27 15:52:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-27 15:52:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 130 ms
2026-01-27 15:52:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 15:52:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:52:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 15:52:40 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: eto - Type: Médecin
2026-01-27 15:52:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:52:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2026-01-27 15:52:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.phone_number=? 
    limit
        ?
2026-01-27 15:52:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address, date_of_birth, email, email_verified, full_name, password, phone_number, profile_photo, provider, provider_id, roles, medical_specialty, user_type, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-27 15:52:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:52:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:52:41 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Inscription réussie pour l'utilisateur: eto - Type: Médecin
2026-01-27 15:52:42 [task-1] INFO  c.e.crudApp.service.EmailService - Email de bienvenue envoyé à l'utilisateur 1 (eto@gmail.com)
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 15:53:04 [http-nio-8080-exec-5] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 15:53:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:53:04 [http-nio-8080-exec-5] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 15:53:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 15:53:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:53:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 15:53:04 [http-nio-8080-exec-4] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 15:53:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:57:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 15:57:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:57:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 15:57:49 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 15:57:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:57:49 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 15:57:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 15:57:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:57:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 15:57:49 [http-nio-8080-exec-9] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 15:57:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:58:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/files/upload-profile-photo
2026-01-27 15:58:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:58:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/files/upload-profile-photo
2026-01-27 15:58:10 [http-nio-8080-exec-7] INFO  c.e.c.c.FileUploadController - Photo de profil uploadée avec succès: 9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg - URL: http://localhost:8080/uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 15:58:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/auth/profile
2026-01-27 15:58:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:58:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/auth/profile
2026-01-27 15:58:10 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Mise à jour du profil pour l'utilisateur: eto
2026-01-27 15:58:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 15:58:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        date_of_birth=?,
        email=?,
        email_verified=?,
        full_name=?,
        password=?,
        phone_number=?,
        profile_photo=?,
        provider=?,
        provider_id=?,
        roles=?,
        medical_specialty=?,
        user_type=?,
        username=? 
    where
        id=?
2026-01-27 15:58:10 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Profil mis à jour avec succès pour l'utilisateur: eto
2026-01-27 15:58:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 15:58:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:58:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:58:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 15:58:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 15:58:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 15:58:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 15:58:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 16:00:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date_time,
        a1_0.created_at,
        a1_0.doctor_id,
        a1_0.doctor_notes,
        a1_0.patient_id,
        a1_0.reason,
        a1_0.status,
        a1_0.updated_at 
    from
        appointments a1_0 
    where
        a1_0.status=? 
        and a1_0.appointment_date_time between ? and ?
2026-01-27 16:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 16:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 16:04:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 16:04:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:04:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 16:04:05 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 16:04:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:06 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 16:04:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 16:04:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 16:04:06 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 16:04:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:04:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 16:04:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:04:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 16:04:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/auth/profile
2026-01-27 16:04:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/auth/profile
2026-01-27 16:04:24 [http-nio-8080-exec-2] INFO  c.e.c.controller.AuthController - Mise à jour du profil pour l'utilisateur: eto
2026-01-27 16:04:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:04:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        date_of_birth=?,
        email=?,
        email_verified=?,
        full_name=?,
        password=?,
        phone_number=?,
        profile_photo=?,
        provider=?,
        provider_id=?,
        roles=?,
        medical_specialty=?,
        user_type=?,
        username=? 
    where
        id=?
2026-01-27 16:04:24 [http-nio-8080-exec-2] INFO  c.e.c.controller.AuthController - Profil mis à jour avec succès pour l'utilisateur: eto
2026-01-27 16:04:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:04:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 16:04:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:04:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 16:04:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:04:38 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:04:38 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 16:04:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 16:05:52 [http-nio-8080-exec-7] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 16:05:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:05:52 [http-nio-8080-exec-7] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 16:05:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 16:05:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:05:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 16:05:52 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 16:05:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 16:05:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 16:05:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 16:05:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 16:05:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 18:22:26 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h15m13s239ms296µs).
2026-01-27 18:26:01 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m5s508ms593µs400ns).
2026-01-27 19:04:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2026-01-27 19:04:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 19:04:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 19:04:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 19:04:49 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 19:04:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:04:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 19:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 19:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 19:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 19:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:04:50 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 19:04:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me
2026-01-27 19:04:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 19:04:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:04:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 19:04:51 [http-nio-8080-exec-9] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 19:04:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:04:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 19:04:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 19:04:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 19:04:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 19:06:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 19:06:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 19:06:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 19:06:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 19:06:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 19:06:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 19:06:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 19:06:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 19:06:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 19:06:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 19:06:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 19:06:36 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: mvomo
2026-01-27 19:06:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:06:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'mvomo'
2026-01-27 19:08:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/register
2026-01-27 19:08:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 19:08:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 19:08:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 19:08:18 [http-nio-8080-exec-10] INFO  c.e.c.controller.AuthController - Tentative d'inscription pour l'utilisateur: Zed - Type: Patient
2026-01-27 19:08:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:08:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2026-01-27 19:08:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.phone_number=? 
    limit
        ?
2026-01-27 19:08:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (address, date_of_birth, email, email_verified, full_name, password, phone_number, profile_photo, provider, provider_id, roles, medical_specialty, user_type, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-27 19:08:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 19:08:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 19:08:18 [http-nio-8080-exec-10] INFO  c.e.c.controller.AuthController - Inscription réussie pour l'utilisateur: Zed - Type: Patient
2026-01-27 19:08:18 [task-2] INFO  c.e.crudApp.service.EmailService - Email de bienvenue envoyé à l'utilisateur 2 (Zed@gmail.com)
2026-01-27 19:08:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 19:08:29 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: Zed
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 19:08:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:08:29 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: Zed
2026-01-27 19:08:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 19:08:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:08:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 19:08:29 [http-nio-8080-exec-5] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: Zed
2026-01-27 19:08:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 19:16:19 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 19:16:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date_time,
        a1_0.created_at,
        a1_0.doctor_id,
        a1_0.doctor_notes,
        a1_0.patient_id,
        a1_0.reason,
        a1_0.status,
        a1_0.updated_at 
    from
        appointments a1_0 
    where
        a1_0.status=? 
        and a1_0.appointment_date_time between ? and ?
2026-01-27 19:16:19 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 19:16:19 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 19:16:19 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche de complétion automatique des rendez-vous passés
2026-01-27 19:16:19 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date_time,
        a1_0.created_at,
        a1_0.doctor_id,
        a1_0.doctor_notes,
        a1_0.patient_id,
        a1_0.reason,
        a1_0.status,
        a1_0.updated_at 
    from
        appointments a1_0 
    where
        a1_0.status=? 
        and a1_0.appointment_date_time<?
2026-01-27 19:16:19 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Aucun rendez-vous passé à marquer comme terminé
2026-01-27 20:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 20:00:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date_time,
        a1_0.created_at,
        a1_0.doctor_id,
        a1_0.doctor_notes,
        a1_0.patient_id,
        a1_0.reason,
        a1_0.status,
        a1_0.updated_at 
    from
        appointments a1_0 
    where
        a1_0.status=? 
        and a1_0.appointment_date_time between ? and ?
2026-01-27 20:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 20:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 20:06:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 20:06:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:06:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 20:06:40 [http-nio-8080-exec-4] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: mvomo
2026-01-27 20:06:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:06:40 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'mvomo'
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 20:06:47 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:06:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 20:06:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 20:06:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 20:06:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:06:48 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 20:06:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/me
2026-01-27 20:06:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 20:06:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:06:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 20:06:48 [http-nio-8080-exec-10] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 20:06:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:06:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:06:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:06:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:06:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:06:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:06:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:06:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:06:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:07:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:07:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:07:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:07:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:07:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:07:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:07:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:07:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:07:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:07:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:07:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:07:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:52:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:52:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:52:26 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:52:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:56:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:56:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:56:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:56:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:56:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2026-01-27 20:56:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 20:56:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:56:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 20:56:59 [http-nio-8080-exec-2] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: mvomo
2026-01-27 20:56:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:56:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'mvomo'
2026-01-27 20:57:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 20:57:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:57:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 20:57:21 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: zed
2026-01-27 20:57:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:57:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 20:57:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:57:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 20:57:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 20:57:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 20:57:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:57:22 [http-nio-8080-exec-3] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: zed
2026-01-27 20:57:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 20:57:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:57:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 20:57:22 [http-nio-8080-exec-6] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: Zed
2026-01-27 20:57:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/profile
2026-01-27 20:58:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/auth/profile
2026-01-27 20:58:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/auth/profile
2026-01-27 20:58:15 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Mise à jour du profil pour l'utilisateur: Zed
2026-01-27 20:58:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        address=?,
        date_of_birth=?,
        email=?,
        email_verified=?,
        full_name=?,
        password=?,
        phone_number=?,
        profile_photo=?,
        provider=?,
        provider_id=?,
        roles=?,
        medical_specialty=?,
        user_type=?,
        username=? 
    where
        id=?
2026-01-27 20:58:15 [http-nio-8080-exec-8] INFO  c.e.c.controller.AuthController - Profil mis à jour avec succès pour l'utilisateur: Zed
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 20:58:44 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Tentative de connexion pour l'utilisateur: eto
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.token,
        rt1_0.user_id 
    from
        refresh_tokens rt1_0 
    where
        rt1_0.user_id=?
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_tokens
        (expiry_date, token, user_id) 
    values
        (?, ?, ?)
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        refresh_tokens 
    where
        id=?
2026-01-27 20:58:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:44 [http-nio-8080-exec-1] INFO  c.e.c.controller.AuthController - Connexion réussie pour l'utilisateur: eto
2026-01-27 20:58:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2026-01-27 20:58:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2026-01-27 20:58:44 [http-nio-8080-exec-5] INFO  c.e.c.controller.AuthController - Récupération des informations pour l'utilisateur: eto
2026-01-27 20:58:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.address,
        u1_0.date_of_birth,
        u1_0.email,
        u1_0.email_verified,
        u1_0.full_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.profile_photo,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.roles,
        u1_0.medical_specialty,
        u1_0.user_type,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-27 20:58:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:58:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:58:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:58:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:58:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:58:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:58:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:58:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:58:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 20:58:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 20:58:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 353F35533BC11B8129BC84130ED77A63
2026-01-27 20:58:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/profile-photos/9073afe9-82ba-4ee5-b882-1f2e40c0cf87.jpg
2026-01-27 21:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Démarrage de la tâche d'envoi de rappels de rendez-vous
2026-01-27 21:00:00 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.appointment_date_time,
        a1_0.created_at,
        a1_0.doctor_id,
        a1_0.doctor_notes,
        a1_0.patient_id,
        a1_0.reason,
        a1_0.status,
        a1_0.updated_at 
    from
        appointments a1_0 
    where
        a1_0.status=? 
        and a1_0.appointment_date_time between ? and ?
2026-01-27 21:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Trouvé 0 rendez-vous nécessitant un rappel
2026-01-27 21:00:00 [scheduling-1] INFO  c.e.c.s.AppointmentReminderService - Tâche de rappels terminée - Succès: 0, Échecs: 0
2026-01-27 21:01:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27 21:01:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-27 21:01:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 21:01:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-27 21:01:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
